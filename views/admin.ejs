<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Admin Panel</title>
		<link rel="stylesheet" href="/styles/style.css" />
	</head>
	<body>
		<%- include('partials/header') %>
		<main>
			<h1>Admin Panel</h1>
			<% if (guests.length === 0) { %>
			<p>No submissions yet.</p>
			<% } else { %>
			<table>
				<thead>
					<tr>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Job Title</th>
						<th>Company</th>
						<th>LinkedIn</th>
						<th>Email</th>
						<th>Meeting Type</th>
						<th>Other</th>
						<th>Message</th>
						<th>Date</th>
					</tr>
				</thead>
				<tbody>
					<% guests.forEach(guest => { %>
					<tr>
						<td><%= guest.fname %></td>
						<td><%= guest.lname %></td>
						<td><%= guest['job-title'] || '—' %></td>
						<td><%= guest.company || '—' %></td>
						<td>
							<% if (guest.linkedin) { %>
							<a
								href="<%= guest.linkedin.startsWith('http') ? guest.linkedin : 'https://' + guest.linkedin %>"
								target="_blank"
								>LinkedIn</a
							>
							<% } else { %> — <% } %>
						</td>
						<td><%= guest.email || '—' %></td>
						<td><%= guest.meet %></td>
						<td><%= guest.other || '—' %></td>
						<td><%= guest.message || '—' %></td>
						<td><%= guest.date.toLocaleString() %></td>
					</tr>
					<% }); %>
				</tbody>
			</table>
			<% } %>
		</main>
	</body>
</html>
